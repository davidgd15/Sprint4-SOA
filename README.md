# Sprint4 – API de Clientes (Java + Spring Boot + Oracle)

API REST para cadastro de clientes, com camadas bem definidas (controller/service/repository), segurança **Basic Auth**, documentação **OpenAPI/Swagger**

## Arquitetura e Tecnologias
- **Java 17** (ou 21), **Spring Boot 3.5.x**
- Spring Web, Spring Data JPA, Spring Validation
- Spring Security (**Basic Auth**)
- Oracle JDBC Driver
- **SpringDoc OpenAPI** (Swagger UI)
- JUnit 5, Mockito, Spring Security Test

Padrões:
- Camadas isoladas: `controller` → `service` → `repository`
- Entidades JPA em `domain`
- Exceções customizadas + `@RestControllerAdvice` para respostas consistentes
- Segurança stateless

````src/main/java/com/fiap/sprint4/
├─ Sprint4Application.java
├─ config/
│  ├─ SecurityConfig.java       
│  └─ OpenApiConfig.java        
├─ domain/
│  └─ cliente/
│     └─ Cliente.java
├─ repository/
│  └─ ClienteRepository.java
├─ service/
│  ├─ ClienteService.java
│  └─ ClienteServiceImpl.java
├─ web/
│  └─ controller/
│     └─ ClienteController.java
└─  exception/
    ├─ NotFoundException.java
    └─ GlobalExceptionHandler.java
````
---


## Pré-requisitos
- JDK 17 (ou 21)
- Maven 3.9+
- Acesso a banco Oracle (host/porta/service name válidos)

---

## Configuração
Arquivo: `src/main/resources/application.properties`

```properties
server.port=8080

spring.datasource.url=jdbc:oracle:thin:@//oracle.fiap.com.br:1521/ORCL
spring.datasource.username=SEU_USUARIO
spring.datasource.password=SUA_SENHA
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
# Dialect é autodetectado no Hibernate 6; manter sem definir é ok.

# Usuário/senha da API (Basic Auth)
spring.security.user.name=admin
spring.security.user.password=admin123

# Log SQL (opcional)
logging.level.org.hibernate.SQL=debug
```
--- 
## Código SQL para contrução da tabela
``` SQL
CREATE TABLE SPRINT4_CLIENTES (
ID     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
NOME   VARCHAR2(150) NOT NULL,
EMAIL  VARCHAR2(150) UNIQUE,
CPF    VARCHAR2(11) UNIQUE,
IDADE  NUMBER(3)
);
```
--- 
## Iniciar Projeto
````
# na raiz do projeto
mvn clean package
mvn spring-boot:run

````
caminho para a Documentação viva
http://localhost:8080/swagger-ui.html

caminho para o postman
http://localhost:8080/api/clientes

### Criar Colection POSTMAN
- Adicionar usuário e senha no Aasic Auth
## Endpoints

-  Base path: /api/clientes

Método	/ Rota / Descrição / Status
- GET  /api/clientes	Lista todos	200
- GET  /api/clientes/{id}	Busca por ID	200/404
- POST 	/api/clientes	Cria novo cliente	201
- PUT 	/api/clientes/{id}	Atualiza cliente	200/404
- DELETE	/api/clientes/{id}	Remove cliente	204/404

````
#json para texte
{
  "nome": "Ana",
  "email": "ana@ex.com",
  "cpf": "12345678901",
  "idade": 30
}
````"# Sprint4-SOA" 
